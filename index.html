<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>My Shop</title>
  <style>
    /* Basic Reset */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: #f9f9f9;
      color: #333;
      padding: 0 15px;
    }

    nav {
      background-color: #4CAF50;
      padding: 15px;
      text-align: center;
    }

    nav a {
      color: white;
      text-decoration: none;
      margin: 0 15px;
      font-size: 1.2em;
    }

    nav a:hover {
      text-decoration: underline;
    }

    h1, h2 {
      margin: 20px 0;
      text-align: center;
    }

    .products {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 20px;
      margin-top: 20px;
    }

    .product {
      background: white;
      border: 1px solid #ddd;
      border-radius: 10px;
      width: 280px;
      padding: 20px;
      box-shadow: 0px 2px 5px rgba(0,0,0,0.1);
    }

    .product h3 {
      margin-bottom: 10px;
      font-size: 1.3em;
    }

    .product ul {
      margin-bottom: 10px;
      text-align: left;
    }

    .product button {
      background-color: #4CAF50;
      border: none;
      color: white;
      padding: 10px 15px;
      border-radius: 5px;
      cursor: pointer;
      width: 100%;
      font-size: 1em;
    }

    .product button:hover {
      background-color: #45a049;
    }

    .cart {
      margin-top: 40px;
      padding-top: 20px;
      border-top: 2px solid #ccc;
    }

    .cart-item {
      margin-bottom: 15px;
      padding: 10px;
      background: #fff;
      border-radius: 8px;
      box-shadow: 0px 1px 3px rgba(0,0,0,0.1);
    }

    .cart-item button {
      margin: 5px;
      background-color: #ff4d4d;
      padding: 5px 10px;
      font-size: 0.9em;
    }

    .cart-item button:first-child {
      background-color: #4CAF50;
    }

    @media (max-width: 600px) {
      .products {
        flex-direction: column;
        align-items: center;
      }
    }
  </style>
</head>
<body>

<nav>
  <a href="#shop">Shop</a>
  <a href="#cart">Cart</a>
</nav>

<h1 id="shop">Welcome to My Shop</h1>
<p style="text-align: center;">Find the best products for you. Simple. Easy. Fast.</p>

<div class="products">
  <div class="product">
    <h3>Standard Product</h3>
    <ul>
      <li>Price: $10</li>
      <li>One-time purchase</li>
      <li>High quality</li>
    </ul>
    <button onclick="addToCart('Standard Product', 10, false)">Add to Cart</button>
  </div>

  <div class="product">
    <h3>Subscription Product</h3>
    <ul>
      <li>Price: $25 / month</li>
      <li>Cancel anytime</li>
      <li>Exclusive benefits</li>
    </ul>
    <button onclick="addToCart('Subscription Product', 25, true)">Subscribe</button>
  </div>
</div>

<div class="cart" id="cart">
  <h2>Your Cart (<span id="itemCount">0</span> items)</h2>
  <div id="cartItems"></div>
  <h3>Total: $<span id="totalPrice">0</span></h3>
</div>

<script>
  let cart = JSON.parse(localStorage.getItem('cart')) || [];

  function saveCart() {
    localStorage.setItem('cart', JSON.stringify(cart));
    renderCart();
  }

  function addToCart(name, price, isSubscription) {
    if (isSubscription && cart.find(item => item.isSubscription)) {
      alert("Only one subscription allowed at a time.");
      return;
    }

    let existing = cart.find(item => item.name === name);

    if (existing) {
      existing.quantity++;
    } else {
      cart.push({ name, price, quantity: 1, isSubscription });
    }

    saveCart();
  }

  function adjustQuantity(index, amount) {
    cart[index].quantity += amount;
    if (cart[index].quantity <= 0) {
      cart.splice(index, 1);
    }
    saveCart();
  }

  function removeItem(index) {
    cart.splice(index, 1);
    saveCart();
  }

  function renderCart() {
    const cartItemsDiv = document.getElementById('cartItems');
    cartItemsDiv.innerHTML = '';

    let totalCount = 0;
    let totalPrice = 0;

    cart.forEach((item, index) => {
      totalCount += item.quantity;
      totalPrice += item.price * item.quantity;

      const div = document.createElement('div');
      div.className = 'cart-item';
      div.innerHTML = `
        <strong>${item.name}</strong> - $${item.price} x ${item.quantity}<br>
        <button onclick="adjustQuantity(${index}, 1)">+</button>
        <button onclick="adjustQuantity(${index}, -1)">-</button>
        <button onclick="removeItem(${index})">Remove</button>
      `;
      cartItemsDiv.appendChild(div);
    });

    document.getElementById('itemCount').innerText = totalCount;
    document.getElementById('totalPrice').innerText = totalPrice.toFixed(2);
  }

  renderCart();
</script>

</body>
</html>
